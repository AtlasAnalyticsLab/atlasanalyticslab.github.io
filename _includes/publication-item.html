{%- comment -%}
  Publication list entry rendered in a simple two-column layout (image + text).
{%- endcomment -%}
{% assign entry = include.entry | default: empty %}
{% assign item_id = entry.id | default: entry.title | slugify %}

{% assign list_image = entry.list_image %}
{% if list_image %}
  {% unless list_image contains '/' %}
    {% assign list_image = 'images/pubpic/' | append: list_image %}
  {% endunless %}
{% else %}
  {% assign list_image = 'images/logopic/group_logo_medium.png' %}
{% endif %}

{% comment %}
  List of possible venue fields in order of preference.
{%- endcomment -%}
{% assign venue = entry.journal | default: entry.booktitle | default: entry.publisher | default: entry.school %}
{% assign link_count = 0 %}
{% if entry.url %}{% assign link_count = link_count | plus: 1 %}{% endif %}
{% if entry.arxiv %}{% assign link_count = link_count | plus: 1 %}{% endif %}
{% if entry.github %}{% assign link_count = link_count | plus: 1 %}{% endif %}
{% if entry.doi %}{% assign link_count = link_count | plus: 1 %}{% endif %}
{% if entry.video %}{% assign link_count = link_count | plus: 1 %}{% endif %}
{% if entry.poster %}{% assign link_count = link_count | plus: 1 %}{% endif %}

<div class="publication-item" id="{{ item_id }}">
  <div class="publication-entry">
    <div class="publication-entry__image">
      <img src="{{ list_image | relative_url }}" alt="Illustration for {{ entry.title | escape }}" loading="lazy">
    </div>
    <div class="publication-entry__details">
      <p class="publication-entry__title"><strong>{{ entry.title }}</strong></p>
      {% if entry.authors %}
        <p class="publication-entry__authors">{{ entry.authors }}</p>
      {% endif %}
      {% if venue %}
        <p class="publication-entry__venue"><em>{{ venue }}</em></p>
      {% endif %}
      {% if entry.note %}
        <p class="publication-entry__note">{{ entry.note }}</p>
      {% endif %}
      {% if link_count > 0 %}
        <p class="publication-entry__links">
          {% if entry.url %}
            <a href="{{ entry.url }}">[LINK]</a>
          {% endif %}
          {% if entry.arxiv %}
            <a href="https://arxiv.org/abs/{{ entry.arxiv }}">[ARXIV]</a>
          {% endif %}
          {% if entry.github %}
            <a href="{{ entry.github }}">[CODE]</a>
          {% endif %}
          {% if entry.doi %}
            <a href="https://doi.org/{{ entry.doi }}">[DOI]</a>
          {% endif %}
          {% if entry.video %}
            <a href="{{ entry.video }}">[VIDEO]</a>
          {% endif %}
          {% if entry.poster %}
            <a href="{{ entry.poster }}">[POSTER]</a>
          {% endif %}
        </p>
      {% endif %}
    </div>
  </div>
</div>
